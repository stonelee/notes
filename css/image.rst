.. _image:


***************
image
***************

imageMagick
---------------

gif批量转为png::

  mogrify -format png *.gif

单个png转为gif::

  convert tree-s7defbb4611.png tree-s7defbb4611.gif

compass的sprite只支持png格式，但是IE6不支持png透明

转为PNG-8，IE6支持，而且体积更小::

  convert tree-s7defbb4611.png -colors 256 PNG8:tree.png

格式
-----------

* gif 支持透明，支持动画，无损耗，水平扫描，间隔渐进显示，只有256种颜色，不适合照片，但它适合对颜色要求不高的图形（比如说图标，图表等）
* jpeg 不支持透明，不支持动画，有损耗，所以在编辑过程一般用png作为过渡格式。隔行渐进显示，适合web上面的摄影图片和数字照相机
* png 支持透明，不支持动画，无损耗，水平扫描，间隔渐进显示

结论::

  动画gif最好
  png8代替静态gif
  PNG24接近JPG，但因为是无损格式，同样尺寸的照片png24比jpg画质要高很多而且体积大很多，所以一般网站使用jpg

  PNG8除了不支持动画外和GIF基本一致，属于256的索引色，其中包括透明索引，不支持半透明
  PNG24即24位全彩，RGB三色各占8位(#FFFFFF,0xFFFFFF)，但不包含透明度，不过PS将PNG24和PNG32的概念整合到PNG24了，这点FW有明显的区分
  PNG32即32位全彩，ARGB四色各占8位(0xFFFFFFFF)，含alpha透明度

两种jpeg加载方式
-----------------------

* 自上而下线性加载（基本）
* 先是全部的模糊图片，然后逐渐清晰（渐进）

两种图片大小差不多，加载速度方面渐进方式在现代浏览器中快的多，一开始就能定好大小，防止回流，但是占CPU、内存较多

水平扫描（gif，png）
------------------------------

使用了一种叫作LZW的算法进行压缩，当压缩gif的过程中，像素是由上到下水平压缩的，
这也意味着同等条件下，横向的gif图片比竖向的gif图片更加小。例如500*10的图片比10*500的图片更加小
